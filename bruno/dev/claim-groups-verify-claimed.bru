meta {
  name: Verify Group Was Claimed
  type: http
  seq: 202
}

get {
  url: {{baseUrl}}/api/active/groups/25/supervisors
  body: none
  auth: none
}

headers {
  Authorization: Bearer {{accessToken}}
  Content-Type: application/json
}

docs {
  # Verify Group Was Claimed

  Confirms that the Schulhof active group now has supervisors assigned.

  ## Run After
  - claim-groups-claim-schulhof.bru

  ## Expected Response
  ```json
  {
    "status": "success",
    "data": [
      {
        "id": 123,
        "staff_id": 1,
        "active_group_id": 25,
        "start_time": "2025-10-07T00:00:00Z",
        "is_active": true
      }
    ]
  }
  ```
}

tests {
  test("Should return 200 OK", function() {
    expect(res.getStatus()).to.equal(200);
  });

  test("Should have success status", function() {
    expect(res.getBody()).to.have.property('status', 'success');
  });

  test("Should have at least one supervisor", function() {
    const data = res.getBody().data;
    expect(data).to.be.an('array');
    expect(data.length).to.be.greaterThan(0);
  });

  test("Supervisor should be active", function() {
    const supervisors = res.getBody().data;
    const activeSup = supervisors.find(s => s.is_active === true);
    expect(activeSup).to.exist;
    expect(activeSup).to.have.property('active_group_id', 25);
  });
}
