meta {
  name: Device RFID Assignment Error Cases
  type: http
  seq: 1
}

post {
  url: {{baseUrl}}/api/students/999999/rfid
  body: json
  auth: none
}

headers {
  Authorization: Bearer {{deviceApiKey}}
  X-Staff-PIN: {{staffPIN}}
  Content-Type: application/json
}

body:json {
  {
    "rfid_tag": "ABCDEF1234567890"
  }
}

tests {
  test("Invalid student ID returns 404", function() {
    expect(res.getStatus()).to.equal(404);
    expect(res.getBody()).to.have.property('status', 'error');
    expect(res.getBody()).to.have.property('error');
  });
}

script:post-response {
  if (res.status === 404) {
    console.log("✅ Correct 404 response for invalid student");
    console.log("Error:", res.body.error);
  } else {
    console.log("❌ Unexpected status for invalid student:", res.status);
    console.log("Response:", res.body);
  }
}