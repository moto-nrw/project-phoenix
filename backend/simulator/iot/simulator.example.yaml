# IoT simulator configuration template.
# Copy this file to simulator.yaml and run ./scripts/update-simulator-keys.sh
# to inject the current device API keys from the database.
base_url: http://server:8080
refresh_interval: 30s

event:
  interval: 5s
  max_events_per_tick: 3
  rotation:
    order: [heimatraum, ag, schulhof, heimatraum]
    min_ag_hops: 2
    max_ag_hops: 3
  actions:
    - type: checkin
      weight: 1.0
    - type: checkout
      weight: 0.8
    - type: schulhof_hop
      weight: 0.5
      device_ids: [RFID-OGS-001]
    - type: attendance_toggle
      weight: 0.6
    - type: supervisor_swap
      weight: 0.3

devices:
  - device_id: RFID-LIB-001
    api_key: CHANGE_ME
    teacher_ids: [1, 2]
    default_session:
      activity_id: 13
      room_id: 10
      supervisor_ids: [1]
  - device_id: RFID-MAIN-001
    api_key: CHANGE_ME
    teacher_ids: [1, 2]
  - device_id: RFID-MENSA-001
    api_key: CHANGE_ME
    teacher_ids: [1, 2]
  - device_id: RFID-OGS-001
    api_key: CHANGE_ME
    teacher_ids: [3]
    default_session:
      activity_id: 15
      room_id: 21
      supervisor_ids: [3]
  - device_id: RFID-SPORT-001
    api_key: CHANGE_ME
    teacher_ids: [4]
    default_session:
      activity_id: 1
      room_id: 19
      supervisor_ids: [4]
  - device_id: TEMP-CLASS-001
    api_key: CHANGE_ME
  - device_id: TEMP-MENSA-001
    api_key: CHANGE_ME
