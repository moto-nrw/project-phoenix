# Production Environment Configuration Example
# Copy this to .env on your production server
# Generate random secrets with: openssl rand -base64 32
# This file supplies sensitive values used by docker-compose.prod.yml

# PostgreSQL
# Note: In production, SSL is REQUIRED for GDPR compliance
# You should use proper CA-signed certificates instead of self-signed ones
POSTGRES_PASSWORD=your_secure_postgres_password_here

# Database connection string with SSL enabled
# Used by server container to connect to PostgreSQL
DB_DSN=postgres://postgres:your_secure_postgres_password_here@localhost:5432/postgres?sslmode=verify-full

# Authentication
AUTH_JWT_SECRET=your_32_character_jwt_secret_here
NEXTAUTH_SECRET=your_32_character_nextauth_secret_here

# Admin Account
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=replace_with_a_strong_secure_password

# Production domains (replace with your actual domains)
DOMAIN=example.com
API_DOMAIN=api.example.com

# CORS Security Configuration (REQUIRED for production)
# Set to your actual frontend and any other allowed origins
# Example: CORS_ALLOWED_ORIGINS=https://example.com,https://www.example.com,https://staging.example.com
CORS_ALLOWED_ORIGINS=https://example.com

# Rate Limiting Configuration (HIGHLY RECOMMENDED for production)
# Enable rate limiting to prevent abuse and brute force attacks
RATE_LIMIT_ENABLED=true
# General API rate limits (requests per minute)
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10
# Stricter limits for authentication endpoints to prevent brute force
RATE_LIMIT_AUTH_REQUESTS_PER_MINUTE=5

# Security Logging Configuration (REQUIRED for production)
# Enable logging of security events for monitoring and incident response
SECURITY_LOGGING_ENABLED=true

# Docker BuildKit Configuration (speeds up builds)
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1
COMPOSE_BAKE=true